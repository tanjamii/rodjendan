<!doctype html>
<html lang="sr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tanjin 20ti :o â€” Pozivnica</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --silver: #cfd4df;
      --silver-2: #e6e9ef;
      --spark: rgba(255,255,255,.9);
      --text: #1a1b1f;
      --text-soft: #5a5d6b;
      --btn: #111217;
      --btn-ghost: rgba(255,255,255,.15);
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; margin:0; font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color: var(--text); overflow-x: hidden;
      background: radial-gradient(1200px 800px at 20% 10%, rgba(255,255,255,.6), transparent 60%),
                  radial-gradient(900px 700px at 80% 0%, rgba(255,255,255,.5), transparent 60%),
                  linear-gradient(135deg, #f7f8fb 0%, #ebeef5 100%);
    }
    .glitter { position: fixed; inset: 0; pointer-events: none; z-index: 0;
      background-image: repeating-linear-gradient(45deg, rgba(255,255,255,.35) 0 2px, transparent 2px 8px),
                        repeating-linear-gradient(-45deg, rgba(255,255,255,.25) 0 3px, transparent 3px 10px);
      mix-blend-mode: screen; animation: shimmer 12s linear infinite; opacity:.65;
    }
    @keyframes shimmer { to { background-position: 2000px 0, -2000px 0; } }
    .wrap { position: relative; z-index: 2; min-height: 100dvh; display: grid; place-items: center; padding:48px 20px; }
    .card { width: min(880px, 92vw); background: rgba(255,255,255,.6); backdrop-filter: blur(8px); border:1px solid rgba(0,0,0,.06); border-radius:28px; box-shadow:0 20px 60px rgba(20,24,40,.12); padding:36px; text-align:center; position: relative; overflow:hidden; }
    h1 { margin:6px 0 2px; font-size: clamp(28px,6vw,56px); font-weight:700; letter-spacing:.4px; color:#0c0d11; text-shadow:0 1px 0 rgba(255,255,255,.8), 0 8px 30px rgba(0,0,0,.08);}
    .subtitle { color: var(--text-soft); font-weight:500; margin-bottom:14px; }
    .countdown { display:flex; justify-content:center; gap:clamp(10px,3vw,22px); margin:26px 0 32px; flex-wrap:wrap; }
    .tile { background: linear-gradient(180deg, #ffffff, #f1f3f8); border:1px solid rgba(0,0,0,.06); border-radius:16px; padding:14px 18px; min-width:90px; box-shadow:0 6px 18px rgba(16,17,23,.08);}
    .num { font-size: clamp(24px,4.8vw,38px); font-weight:700; display:block; }
    .lbl { font-size:12px; text-transform:uppercase; letter-spacing:1px; color:var(--text-soft); }
    .actions { display:flex; justify-content:center; gap:12px; flex-wrap:wrap; }
    .btn { display:inline-flex; align-items:center; gap:10px; padding:12px 18px; border-radius:999px; text-decoration:none; font-weight:600; border:1px solid rgba(0,0,0,.08); background: var(--btn); color:#fff; box-shadow:0 10px 24px rgba(17,18,23,.18); transition:transform .1s ease, box-shadow .2s ease, opacity .2s ease;}
    .btn:hover { transform: translateY(-1px); box-shadow:0 12px 30px rgba(17,18,23,.22);}
    .btn-ghost { background: var(--btn-ghost); color:#0f1116; backdrop-filter: blur(4px);}
    .meta { margin-top:12px; color:var(--text-soft); font-size:14px; }
    .balloons { position: fixed; inset:0; pointer-events:none; z-index:1; overflow:hidden; }
    .balloon { position:absolute; width:34px; height:44px; border-radius:50% 50% 48% 52% / 60% 60% 40% 40%; background: radial-gradient(circle at 30% 30%, #ffffff, #c2c8d6); box-shadow: inset -8px -10px 20px rgba(0,0,0,.1); animation: floatUp var(--dur) linear infinite;}
    .balloon::after { content:""; position:absolute; left:50%; top:44px; width:2px; height:36px; background: rgba(0,0,0,.2); transform:translateX(-50%);}
    @keyframes floatUp { from{transform:translateY(110vh) translateX(0); opacity:0;} 10%{opacity:1;} to{transform:translateY(-20vh) translateX(var(--drift)); opacity:.9;} }
    canvas#confetti { position:fixed; inset:0; z-index:2; pointer-events:none; }
    .footer { margin-top:22px; font-size:13px; color:var(--text-soft);}
  </style>
</head>
<body>
  <!-- AUDIO -->
  <audio id="bgm" src="music.mp3" autoplay loop></audio>

  <div class="glitter" aria-hidden="true"></div>
  <canvas id="confetti" aria-hidden="true"></canvas>
  <div class="balloons" id="balloons" aria-hidden="true"></div>

  <main class="wrap">
    <section class="card" role="region" aria-label="Pozivnica">
      <p class="subtitle">2. januar 2026.</p>
      <h1>Tanjin 20ti :o</h1>
      <p class="subtitle">DoÄ‘i da nazdravimo i upadnemo u 20-tku âœ¨</p>

      <div class="countdown" aria-live="polite">
        <div class="tile"><span class="num" id="d">â€“</span><span class="lbl">Dani</span></div>
        <div class="tile"><span class="num" id="h">â€“</span><span class="lbl">Sati</span></div>
        <div class="tile"><span class="num" id="m">â€“</span><span class="lbl">Minuti</span></div>
        <div class="tile"><span class="num" id="s">â€“</span><span class="lbl">Sekunde</span></div>
      </div>

      <div class="actions">
        <a id="rsvpBtn" class="btn" href="https://wa.me/381605070871?text=Dolazim%20na%20%C5%BEurku%20za%2020!" target="_blank" rel="noopener">Potvrdi dolazak na WhatsApp</a>
        <a class="btn btn-ghost" href="#info">Detalji</a>
      </div>

      <p id="info" class="meta">Mesto: kod mene â€¢ Dress code: srebrno & belo âœ¨</p>
      <div class="footer">Ako ne moÅ¾eÅ¡ da doÄ‘eÅ¡, javi porukom ðŸ«¶</div>
    </section>
  </main>

  <script>
    // ====== COUNTDOWN ======
    const targetDate = new Date('2026-01-02T00:00:00+01:00').getTime();
    const dEl = document.getElementById('d');
    const hEl = document.getElementById('h');
    const mEl = document.getElementById('m');
    const sEl = document.getElementById('s');

    function pad(n){ return String(n).padStart(2,'0'); }
    function tick(){
      const now = Date.now();
      let diff = Math.max(0, targetDate - now);
      const days = Math.floor(diff / (1000*60*60*24)); diff -= days*24*60*60*1000;
      const hours = Math.floor(diff / (1000*60*60)); diff -= hours*60*60*1000;
      const mins = Math.floor(diff / (1000*60)); diff -= mins*60*1000;
      const secs = Math.floor(diff / 1000);
      dEl.textContent = days;
      hEl.textContent = pad(hours);
      mEl.textContent = pad(mins);
      sEl.textContent = pad(secs);
    }
    tick(); setInterval(tick,1000);

    // ====== BALLOONS ======
    const balloons = document.getElementById('balloons');
    const BAL_COUNT = 24;
    function spawnBalloon(){
      const b = document.createElement('div');
      b.className = 'balloon';
      const left = Math.random()*100;
      const delay = Math.random()*-10;
      const dur = 12 + Math.random()*10;
      const drift = (Math.random()*80 - 40) + 'px';
      b.style.left = left + 'vw';
      b.style.setProperty('--dur', dur+'s');
      b.style.setProperty('--drift', drift);
      b.style.animationDelay = delay+'s';
      balloons.appendChild(b);
      setTimeout(()=>{b.remove(); spawnBalloon();}, (dur*1000)+2000);
    }
    for(let i=0;i<BAL_COUNT;i++) spawnBalloon();

    // ====== CONFETTI ======
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    let W,H,confetti;
    function resize(){ W=canvas.width=innerWidth; H=canvas.height=innerHeight; }
    addEventListener('resize',resize); resize();
    function makeConfetti(n=160){
      const arr=[];
      for(let i=0;i<n;i++){
        arr.push({x:Math.random()*W,y:Math.random()*H,r:4+Math.random()*6,vx:-0.6+Math.random()*1.2,vy:0.6+Math.random()*1.6,rot:Math.random()*360,vr:-2+Math.random()*4,shape:Math.random()<.5?'rect':'circle',alpha:.7+Math.random()*.3});
      }
      return arr;
    }
    confetti=makeConfetti();
    function draw(){
      ctx.clearRect(0,0,W,H);
      for(const p of confetti){
        ctx.save();
        ctx.globalAlpha=p.alpha;
        ctx.translate(p.x,p.y);
        ctx.rotate(p.rot*Math.PI/180);
        ctx.fillStyle=`hsl(${(p.x/W)*360}, 20%, ${60 + (p.y/H)*20}%)`;
        if(p.shape==='rect') ctx.fillRect(-p.r,-p.r/2,p.r*2,p.r);
        else {ctx.beginPath(); ctx.arc(0,0,p.r,0,Math.PI*2); ctx.fill();}
        ctx.restore();
        p.x+=p.vx; p.y+=p.vy; p.rot+=p.vr;
        if(p.y>H+20){p.y=-20;p.x=Math.random()*W;}
        if(p.x<-20)p.x=W+20; if(p.x>W+20)p.x=-20;
      }
      requestAnimationFrame(draw);
    }
    draw();
  </script>
</body>
</html>
